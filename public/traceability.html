<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æº¯æºç®¡ç† - Conflux Farm</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .trace-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
        }

        .trace-card:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
        }

        .trace-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid #e8ecf1;
        }

        .trace-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .trace-icon {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: linear-gradient(135deg, #7c8ff5 0%, #9b7fd9 100%);
        }

        .trace-info {
            flex: 1;
        }

        .trace-name {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 4px;
        }

        .trace-id {
            font-size: 13px;
            color: #8492a6;
            font-family: 'Courier New', monospace;
        }

        .trace-status {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .status-verified {
            background: #e8f5e9;
            color: #4caf50;
        }

        .status-pending {
            background: #fff3e0;
            color: #ff9800;
        }

        .status-transit {
            background: #e3f2fd;
            color: #2196f3;
        }

        .trace-timeline {
            position: relative;
            padding-left: 40px;
        }

        .timeline-item {
            position: relative;
            padding-bottom: 24px;
        }

        .timeline-item:last-child {
            padding-bottom: 0;
        }

        .timeline-dot {
            position: absolute;
            left: -28px;
            top: 4px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #7c8ff5;
            border: 3px solid white;
            box-shadow: 0 0 0 2px #7c8ff5;
        }

        .timeline-item:last-child .timeline-dot {
            background: #67c23a;
            box-shadow: 0 0 0 2px #67c23a;
        }

        .timeline-line {
            position: absolute;
            left: -21px;
            top: 20px;
            bottom: 0;
            width: 2px;
            background: #e8ecf1;
        }

        .timeline-item:last-child .timeline-line {
            display: none;
        }

        .timeline-content {
            background: #f5f7fa;
            padding: 16px;
            border-radius: 8px;
        }

        .timeline-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .timeline-time {
            font-size: 12px;
            color: #8492a6;
        }

        .timeline-desc {
            font-size: 14px;
            color: #5a6c7d;
            line-height: 1.6;
        }

        .timeline-meta {
            display: flex;
            gap: 20px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #dcdfe6;
            font-size: 13px;
        }

        .timeline-meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #5a6c7d;
        }

        .search-bar {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .search-input-group {
            display: flex;
            gap: 12px;
        }

        .search-input-group input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #dcdfe6;
            border-radius: 6px;
            font-size: 14px;
        }

        .search-input-group input:focus {
            outline: none;
            border-color: #7c8ff5;
            box-shadow: 0 0 0 3px rgba(124, 143, 245, 0.1);
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 30px;
        }

        .stat-box {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        .stat-box-value {
            font-size: 32px;
            font-weight: 700;
            color: #7c8ff5;
            margin-bottom: 8px;
        }

        .stat-box-label {
            font-size: 14px;
            color: #8492a6;
        }
    </style>
</head>

<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="navbar-content">
            <div class="logo">
                <div class="logo-icon">ğŸŒ¾</div>
                <span>Conflux Farm</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">é¦–é¡µ</a></li>
                <li><a href="products.html">äº§å“ç§ç±»</a></li>
                <li><a href="#certificates">æ•°å­—è¯ä¹¦</a></li>
                <li><a href="traceability.html" class="active">æº¯æºç®¡ç†</a></li>
                <li><a href="operations.html">æˆ‘çš„</a></li>
            </ul>
        </div>
    </nav>

    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
        <div class="page-container">
            <h1 class="page-title">æº¯æºç®¡ç†</h1>
            <p class="page-subtitle">è¿½è¸ªå†œäº§å“ä»ç”Ÿäº§åˆ°æµé€šçš„å…¨è¿‡ç¨‹</p>
        </div>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="main-container">
        <!-- ç»Ÿè®¡æ•°æ® -->
        <div class="stats-row">
            <div class="stat-box">
                <div class="stat-box-value">3,245</div>
                <div class="stat-box-label">ä»Šæ—¥æº¯æºæŸ¥è¯¢</div>
            </div>
            <div class="stat-box">
                <div class="stat-box-value">98.5%</div>
                <div class="stat-box-label">æº¯æºæˆåŠŸç‡</div>
            </div>
            <div class="stat-box">
                <div class="stat-box-value">156</div>
                <div class="stat-box-label">åœ¨é€”æ‰¹æ¬¡</div>
            </div>
            <div class="stat-box">
                <div class="stat-box-value">2.3ç§’</div>
                <div class="stat-box-label">å¹³å‡æŸ¥è¯¢æ—¶é—´</div>
            </div>
        </div>

        <!-- æœç´¢æ  -->
        <div class="search-bar">
            <div class="search-input-group">
                <input type="text" id="searchInput" placeholder="è¾“å…¥æ‰¹æ¬¡ç¼–å·ã€äº§å“åç§°æˆ–ä¼ä¸šåç§°æœç´¢...">
                <button class="btn" onclick="searchTrace()">ğŸ” æœç´¢</button>
            </div>
        </div>

        <!-- æº¯æºè®°å½•åˆ—è¡¨ -->
        <div id="traceList">
            <!-- æº¯æºå¡ç‰‡å°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

    <script>
        let traceRecords = [
            {
                id: 'TB20241210001',
                product: 'æœ‰æœºå¤§ç±³',
                icon: 'ğŸŒ¾',
                status: 'verified',
                statusText: 'å·²å®Œæˆ',
                enterprise: 'é»‘é¾™æ±Ÿäº”å¸¸ç±³ä¸š',
                origin: 'é»‘é¾™æ±Ÿäº”å¸¸',
                timeline: [
                    {
                        title: 'ç§æ¤é˜¶æ®µ',
                        time: '2024-05-15 08:00',
                        desc: 'åœ¨é»‘é¾™æ±Ÿäº”å¸¸æœ‰æœºç§æ¤åŸºåœ°å¼€å§‹æ’­ç§ï¼Œä½¿ç”¨æœ‰æœºè‚¥æ–™ï¼Œæ— å†œè¯ç§æ¤',
                        location: 'é»‘é¾™æ±Ÿäº”å¸¸',
                        operator: 'å¼ å¸ˆå‚…'
                    },
                    {
                        title: 'ç”Ÿé•¿ç®¡ç†',
                        time: '2024-07-20 10:30',
                        desc: 'è¿›è¡Œç”°é—´ç®¡ç†ï¼Œå®šæœŸæ£€æµ‹åœŸå£¤å’Œæ°´è´¨ï¼Œç¡®ä¿æœ‰æœºæ ‡å‡†',
                        location: 'é»‘é¾™æ±Ÿäº”å¸¸',
                        operator: 'æç»ç†'
                    },
                    {
                        title: 'æ”¶å‰²åŠ å·¥',
                        time: '2024-10-10 14:00',
                        desc: 'æœºæ¢°æ”¶å‰²ï¼Œç»è¿‡æ¸…æ´—ã€çƒ˜å¹²ã€å»å£³ç­‰å·¥åºï¼ŒåŒ…è£…å…¥åº“',
                        location: 'äº”å¸¸åŠ å·¥å‚',
                        operator: 'ç‹ä¸»ç®¡'
                    },
                    {
                        title: 'è´¨æ£€è®¤è¯',
                        time: '2024-10-12 09:00',
                        desc: 'é€šè¿‡å›½å®¶æœ‰æœºäº§å“è®¤è¯æ£€æµ‹ï¼Œå„é¡¹æŒ‡æ ‡ç¬¦åˆæ ‡å‡†',
                        location: 'è´¨æ£€ä¸­å¿ƒ',
                        operator: 'è´¨æ£€å‘˜'
                    },
                    {
                        title: 'ä»“å‚¨ç‰©æµ',
                        time: '2024-10-15 16:00',
                        desc: 'å…¥åº“å­˜å‚¨ï¼Œæ¸©æ¹¿åº¦æ§åˆ¶è‰¯å¥½ï¼Œå‡†å¤‡å‘å¾€å„åœ°ç»é”€å•†',
                        location: 'ä¸­å¤®ä»“åº“',
                        operator: 'ä»“ç®¡å‘˜'
                    },
                    {
                        title: 'é…é€å®Œæˆ',
                        time: '2024-12-10 11:20',
                        desc: 'å·²é…é€è‡³åŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ç­‰åœ°çš„è¶…å¸‚å’Œç”µå•†å¹³å°',
                        location: 'å…¨å›½å„åœ°',
                        operator: 'ç‰©æµéƒ¨'
                    }
                ]
            },
            {
                id: 'TB20241210002',
                product: 'äº‘å—æ™®æ´±èŒ¶',
                icon: 'ğŸµ',
                status: 'transit',
                statusText: 'è¿è¾“ä¸­',
                enterprise: 'äº‘å—æ™®æ´±èŒ¶ä¸š',
                origin: 'äº‘å—æ™®æ´±',
                timeline: [
                    {
                        title: 'èŒ¶å›­é‡‡æ‘˜',
                        time: '2024-03-20 06:00',
                        desc: 'åœ¨äº‘å—æ™®æ´±å¤èŒ¶å›­è¿›è¡Œæ˜¥èŒ¶é‡‡æ‘˜ï¼Œé€‰ç”¨ä¸€èŠ½äºŒå¶æ ‡å‡†',
                        location: 'äº‘å—æ™®æ´±',
                        operator: 'é‡‡èŒ¶å·¥'
                    },
                    {
                        title: 'åˆåˆ¶åŠ å·¥',
                        time: '2024-03-20 18:00',
                        desc: 'ç»è¿‡æ€é’ã€æ‰æ»ã€æ™’é’ç­‰ä¼ ç»Ÿå·¥è‰ºåˆ¶ä½œ',
                        location: 'æ™®æ´±èŒ¶å‚',
                        operator: 'åˆ¶èŒ¶å¸ˆ'
                    },
                    {
                        title: 'å‘é…µé™ˆåŒ–',
                        time: '2024-04-01 10:00',
                        desc: 'è¿›å…¥å‘é…µä»“åº“ï¼Œæ§åˆ¶æ¸©æ¹¿åº¦è¿›è¡Œè‡ªç„¶å‘é…µ',
                        location: 'å‘é…µä»“åº“',
                        operator: 'æŠ€æœ¯å‘˜'
                    },
                    {
                        title: 'å‹åˆ¶åŒ…è£…',
                        time: '2024-11-15 14:00',
                        desc: 'å‹åˆ¶æˆé¥¼èŒ¶ï¼ŒçœŸç©ºåŒ…è£…ï¼Œè´´ä¸Šæº¯æºäºŒç»´ç ',
                        location: 'åŒ…è£…è½¦é—´',
                        operator: 'åŒ…è£…å·¥'
                    },
                    {
                        title: 'å‘è´§è¿è¾“',
                        time: '2024-12-08 09:00',
                        desc: 'é€šè¿‡å†·é“¾ç‰©æµå‘å¾€å…¨å›½å„åœ°èŒ¶å¶ä¸“å–åº—',
                        location: 'ç‰©æµä¸­å¿ƒ',
                        operator: 'ç‰©æµå‘˜'
                    }
                ]
            },
            {
                id: 'TB20241210003',
                product: 'å±±ä¸œå¯¿å…‰è”¬èœ',
                icon: 'ğŸ¥¬',
                status: 'pending',
                statusText: 'è´¨æ£€ä¸­',
                enterprise: 'å±±ä¸œå¯¿å…‰å†œä¸š',
                origin: 'å±±ä¸œå¯¿å…‰',
                timeline: [
                    {
                        title: 'å¤§æ£šç§æ¤',
                        time: '2024-11-01 07:00',
                        desc: 'åœ¨æ™ºèƒ½æ¸©æ§å¤§æ£šä¸­ç§æ¤ï¼Œä½¿ç”¨æ»´çŒæŠ€æœ¯å’Œæœ‰æœºè‚¥',
                        location: 'å±±ä¸œå¯¿å…‰',
                        operator: 'ç§æ¤æˆ·'
                    },
                    {
                        title: 'ç”Ÿé•¿ç›‘æµ‹',
                        time: '2024-11-20 10:00',
                        desc: 'å®šæœŸæ£€æµ‹è”¬èœç”Ÿé•¿æƒ…å†µï¼Œè®°å½•æ¸©åº¦ã€æ¹¿åº¦ã€å…‰ç…§æ•°æ®',
                        location: 'å±±ä¸œå¯¿å…‰',
                        operator: 'å†œæŠ€å‘˜'
                    },
                    {
                        title: 'é‡‡æ”¶åŒ…è£…',
                        time: '2024-12-09 05:00',
                        desc: 'æ¸…æ™¨é‡‡æ”¶æ–°é²œè”¬èœï¼Œç«‹å³è¿›è¡Œæ¸…æ´—ã€åˆ†æ‹£ã€åŒ…è£…',
                        location: 'åŒ…è£…è½¦é—´',
                        operator: 'é‡‡æ”¶å·¥'
                    },
                    {
                        title: 'è´¨é‡æ£€æµ‹',
                        time: '2024-12-10 08:00',
                        desc: 'æ­£åœ¨è¿›è¡Œå†œè¯æ®‹ç•™æ£€æµ‹å’Œè¥å…»æˆåˆ†åˆ†æ',
                        location: 'æ£€æµ‹ä¸­å¿ƒ',
                        operator: 'æ£€æµ‹å‘˜'
                    }
                ]
            },
            {
                id: 'TB20241209001',
                product: 'é™•è¥¿æ´›å·è‹¹æœ',
                icon: 'ğŸ',
                status: 'verified',
                statusText: 'å·²å®Œæˆ',
                enterprise: 'é™•è¥¿æ´›å·æœä¸š',
                origin: 'é™•è¥¿æ´›å·',
                timeline: [
                    {
                        title: 'æœå›­ç®¡ç†',
                        time: '2024-04-01 08:00',
                        desc: 'æ˜¥å­£ä¿®å‰ªã€æ–½è‚¥ã€ç—…è™«å®³é˜²æ²»ï¼Œé‡‡ç”¨ç»¿è‰²é˜²æ§æŠ€æœ¯',
                        location: 'é™•è¥¿æ´›å·',
                        operator: 'æœå†œ'
                    },
                    {
                        title: 'å¼€èŠ±æˆç²‰',
                        time: '2024-04-15 10:00',
                        desc: 'è‹¹æœæ ‘å¼€èŠ±ï¼Œè¿›è¡Œäººå·¥è¾…åŠ©æˆç²‰ï¼Œæé«˜åæœç‡',
                        location: 'é™•è¥¿æ´›å·',
                        operator: 'æŠ€æœ¯å‘˜'
                    },
                    {
                        title: 'æœå®å¥—è¢‹',
                        time: '2024-05-20 09:00',
                        desc: 'å¯¹å¹¼æœè¿›è¡Œå¥—è¢‹ä¿æŠ¤ï¼Œé˜²æ­¢ç—…è™«å®³å’Œå†œè¯æ±¡æŸ“',
                        location: 'é™•è¥¿æ´›å·',
                        operator: 'æœå†œ'
                    },
                    {
                        title: 'é‡‡æ‘˜åˆ†çº§',
                        time: '2024-10-20 06:00',
                        desc: 'äººå·¥é‡‡æ‘˜æˆç†Ÿè‹¹æœï¼ŒæŒ‰ç…§å¤§å°ã€è‰²æ³½è¿›è¡Œåˆ†çº§',
                        location: 'åˆ†æ‹£ä¸­å¿ƒ',
                        operator: 'åˆ†æ‹£å·¥'
                    },
                    {
                        title: 'å†·åº“å‚¨å­˜',
                        time: '2024-10-21 14:00',
                        desc: 'è¿›å…¥æ°”è°ƒå†·åº“å‚¨å­˜ï¼Œä¿æŒæ–°é²œåº¦',
                        location: 'å†·åº“',
                        operator: 'ä»“ç®¡å‘˜'
                    },
                    {
                        title: 'é”€å”®é…é€',
                        time: '2024-12-09 10:00',
                        desc: 'é…é€è‡³å„å¤§è¶…å¸‚å’Œæ°´æœåº—ï¼Œæ¶ˆè´¹è€…å¯æ‰«ç æŸ¥è¯¢',
                        location: 'å…¨å›½å„åœ°',
                        operator: 'é…é€å‘˜'
                    }
                ]
            },
            {
                id: 'TB20241208001',
                product: 'ç¦å»ºå®‰æºªé“è§‚éŸ³',
                icon: 'ğŸƒ',
                status: 'verified',
                statusText: 'å·²å®Œæˆ',
                enterprise: 'ç¦å»ºå®‰æºªèŒ¶ä¸š',
                origin: 'ç¦å»ºå®‰æºª',
                timeline: [
                    {
                        title: 'èŒ¶å›­é‡‡æ‘˜',
                        time: '2024-10-08 05:30',
                        desc: 'ç§‹èŒ¶é‡‡æ‘˜ï¼Œé€‰ç”¨ä¸‰å¶ä¸€èŠ½çš„æ ‡å‡†èŒ¶é’',
                        location: 'ç¦å»ºå®‰æºª',
                        operator: 'é‡‡èŒ¶å·¥'
                    },
                    {
                        title: 'æ™’é’å‡‰é’',
                        time: '2024-10-08 16:00',
                        desc: 'èŒ¶é’ç»è¿‡æ—¥å…‰èå‡‹å’Œå®¤å†…å‡‰é’ï¼Œæ•£å‘æ°´åˆ†',
                        location: 'åˆ¶èŒ¶è½¦é—´',
                        operator: 'åˆ¶èŒ¶å¸ˆ'
                    },
                    {
                        title: 'æ‘‡é’åšé’',
                        time: '2024-10-08 20:00',
                        desc: 'é€šè¿‡æ‘‡é’ä½¿èŒ¶å¶å‘é…µï¼Œå½¢æˆé“è§‚éŸ³ç‰¹æœ‰çš„é¦™æ°”',
                        location: 'åˆ¶èŒ¶è½¦é—´',
                        operator: 'åˆ¶èŒ¶å¸ˆ'
                    },
                    {
                        title: 'ç‚’é’çƒ˜ç„™',
                        time: '2024-10-09 02:00',
                        desc: 'é«˜æ¸©ç‚’é’æ€é’ï¼Œç„¶åè¿›è¡Œçƒ˜ç„™å®šå‹',
                        location: 'åˆ¶èŒ¶è½¦é—´',
                        operator: 'åˆ¶èŒ¶å¸ˆ'
                    },
                    {
                        title: 'åŒ…è£…å…¥åº“',
                        time: '2024-10-10 10:00',
                        desc: 'çœŸç©ºåŒ…è£…ï¼Œè´´ä¸Šæº¯æºæ ‡ç­¾ï¼Œå…¥åº“å‚¨å­˜',
                        location: 'ä»“åº“',
                        operator: 'åŒ…è£…å·¥'
                    },
                    {
                        title: 'é”€å”®å®Œæˆ',
                        time: '2024-12-08 15:00',
                        desc: 'é€šè¿‡çº¿ä¸Šçº¿ä¸‹æ¸ é“é”€å”®ï¼Œå®¢æˆ·å¥½è¯„å¦‚æ½®',
                        location: 'å…¨å›½å„åœ°',
                        operator: 'é”€å”®éƒ¨'
                    }
                ]
            }
        ];

        function renderTraceRecords(records = traceRecords) {
            const container = document.getElementById('traceList');
            
            container.innerHTML = records.map(record => `
                <div class="trace-card">
                    <div class="trace-header">
                        <div class="trace-title">
                            <div class="trace-icon">${record.icon}</div>
                            <div class="trace-info">
                                <div class="trace-name">${record.product}</div>
                                <div class="trace-id">æ‰¹æ¬¡ç¼–å·: ${record.id}</div>
                            </div>
                        </div>
                        <div class="trace-status status-${record.status}">${record.statusText}</div>
                    </div>
                    
                    <div style="margin-bottom: 20px; padding: 12px; background: #f5f7fa; border-radius: 8px;">
                        <div style="display: flex; gap: 30px; font-size: 14px;">
                            <div><strong>ç”Ÿäº§ä¼ä¸šï¼š</strong>${record.enterprise}</div>
                            <div><strong>äº§åœ°ï¼š</strong>${record.origin}</div>
                            <div><strong>æº¯æºèŠ‚ç‚¹ï¼š</strong>${record.timeline.length} ä¸ª</div>
                        </div>
                    </div>
                    
                    <div class="trace-timeline">
                        ${record.timeline.map((item, index) => `
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                ${index < record.timeline.length - 1 ? '<div class="timeline-line"></div>' : ''}
                                <div class="timeline-content">
                                    <div class="timeline-title">
                                        <span>${item.title}</span>
                                        <span class="timeline-time">${item.time}</span>
                                    </div>
                                    <div class="timeline-desc">${item.desc}</div>
                                    <div class="timeline-meta">
                                        <div class="timeline-meta-item">
                                            ğŸ“ ${item.location}
                                        </div>
                                        <div class="timeline-meta-item">
                                            ğŸ‘¤ ${item.operator}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function searchTrace() {
            const keyword = document.getElementById('searchInput').value.trim().toLowerCase();
            
            if (!keyword) {
                renderTraceRecords();
                return;
            }
            
            const filtered = traceRecords.filter(record => 
                record.id.toLowerCase().includes(keyword) ||
                record.product.toLowerCase().includes(keyword) ||
                record.enterprise.toLowerCase().includes(keyword) ||
                record.origin.toLowerCase().includes(keyword)
            );
            
            if (filtered.length === 0) {
                document.getElementById('traceList').innerHTML = `
                    <div style="text-align: center; padding: 60px; color: #8492a6;">
                        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ”</div>
                        <div style="font-size: 18px;">æœªæ‰¾åˆ°ç›¸å…³æº¯æºè®°å½•</div>
                        <div style="font-size: 14px; margin-top: 8px;">è¯·å°è¯•å…¶ä»–å…³é”®è¯</div>
                    </div>
                `;
            } else {
                renderTraceRecords(filtered);
            }
        }

        // æ”¯æŒå›è½¦æœç´¢
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchTrace();
            }
        });

        // ä»åç«¯åŠ è½½æº¯æºæ•°æ®
        async function loadTraceRecords() {
            try {
                const response = await fetch('/api/trace');
                const data = await response.json();
                if (data.ok && data.records && data.records.length > 0) {
                    traceRecords = data.records;
                    console.log('Loaded trace records from API:', traceRecords.length);
                } else {
                    console.log('Using fallback trace data');
                }
                renderTraceRecords();
            } catch (error) {
                console.error('Error loading trace records:', error);
                console.log('Using fallback trace data due to error');
                renderTraceRecords();
            }
        }

        // åˆå§‹åŒ–é¡µé¢
        loadTraceRecords();
    </script>
</body>

</html>
